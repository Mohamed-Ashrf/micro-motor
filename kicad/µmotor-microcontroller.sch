EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:stm32
LIBS:DRV8870
LIBS:INA180A
LIBS:AS5045B
LIBS:TCAN33x
LIBS:mic4606
LIBS:drv8323s
LIBS:FDMD82xx
LIBS:µmotor-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 2 6
Title "µmotor - Micro Motor Controller"
Date "2017-09-14"
Rev "rev1"
Comp "Roboterclub Aachen e.V."
Comment1 "Raphael Lehmann"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L TEST_1P J203
U 1 1 59BA1247
P 3750 1650
F 0 "J203" V 3750 2200 50  0000 C CNN
F 1 "SWDIO" V 3750 1950 50  0000 C CNN
F 2 "Measurement_Points:Measurement_Point_Round-SMD-Pad_Small" H 3950 1650 50  0001 C CNN
F 3 "" H 3950 1650 50  0001 C CNN
	1    3750 1650
	0    -1   -1   0   
$EndComp
$Comp
L TEST_1P J204
U 1 1 59BA12F1
P 3750 1550
F 0 "J204" V 3750 2100 50  0000 C CNN
F 1 "SWCLK" V 3750 1850 50  0000 C CNN
F 2 "Measurement_Points:Measurement_Point_Round-SMD-Pad_Small" H 3950 1550 50  0001 C CNN
F 3 "" H 3950 1550 50  0001 C CNN
	1    3750 1550
	0    -1   -1   0   
$EndComp
$Comp
L TEST_1P J205
U 1 1 59BA1332
P 3750 1450
F 0 "J205" V 3750 2000 50  0000 C CNN
F 1 "GND" V 3750 1750 50  0000 C CNN
F 2 "Measurement_Points:Measurement_Point_Round-SMD-Pad_Small" H 3950 1450 50  0001 C CNN
F 3 "" H 3950 1450 50  0001 C CNN
	1    3750 1450
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR07
U 1 1 59BA1365
P 3850 1350
F 0 "#PWR07" H 3850 1100 50  0001 C CNN
F 1 "GND" H 3850 1200 50  0000 C CNN
F 2 "" H 3850 1350 50  0001 C CNN
F 3 "" H 3850 1350 50  0001 C CNN
	1    3850 1350
	-1   0    0    1   
$EndComp
Wire Notes Line
	2850 1400 2850 1700
Wire Notes Line
	2850 1700 3800 1700
Wire Notes Line
	3800 1700 3800 1400
Wire Notes Line
	3800 1400 2850 1400
Text Notes 2950 1650 1    60   ~ 0
SWD
Text HLabel 3850 3700 0    60   BiDi ~ 0
I2C_SDA
Text HLabel 3850 3800 0    60   Output ~ 0
I2C_SCL
Text HLabel 3850 1850 0    60   Input ~ 0
CAN_RX
Text HLabel 3850 1750 0    60   Output ~ 0
CAN_TX
Text HLabel 3850 2250 0    60   Output ~ 0
PWM_CH1N
Text HLabel 3850 2150 0    60   Output ~ 0
PWM_CH1P
$Comp
L TEST_1P J201
U 1 1 59BA1FC2
P 3750 2750
F 0 "J201" V 3750 3200 50  0000 C CNN
F 1 "TX" V 3750 3000 50  0000 C CNN
F 2 "Measurement_Points:Measurement_Point_Round-SMD-Pad_Small" H 3950 2750 50  0001 C CNN
F 3 "" H 3950 2750 50  0001 C CNN
	1    3750 2750
	0    -1   1    0   
$EndComp
Text Notes 3150 2800 2    60   ~ 0
UART
Text HLabel 3850 4100 0    60   Input ~ 0
Enc_TIM2_CH1
Text HLabel 4150 1250 2    60   Input ~ 0
Enc_TIM2_CH2
$Comp
L C C201
U 1 1 59BAE177
P 5000 7000
F 0 "C201" H 5025 7100 50  0000 L CNN
F 1 "100n" H 5025 6900 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5038 6850 50  0001 C CNN
F 3 "" H 5000 7000 50  0001 C CNN
	1    5000 7000
	1    0    0    -1  
$EndComp
$Comp
L +3V3 #PWR08
U 1 1 59BAE1E9
P 5000 6750
F 0 "#PWR08" H 5000 6600 50  0001 C CNN
F 1 "+3V3" H 5000 6890 50  0000 C CNN
F 2 "" H 5000 6750 50  0001 C CNN
F 3 "" H 5000 6750 50  0001 C CNN
	1    5000 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	5000 6750 5000 6850
$Comp
L GND #PWR09
U 1 1 59BAE239
P 5000 7250
F 0 "#PWR09" H 5000 7000 50  0001 C CNN
F 1 "GND" H 5000 7100 50  0000 C CNN
F 2 "" H 5000 7250 50  0001 C CNN
F 3 "" H 5000 7250 50  0001 C CNN
	1    5000 7250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5000 7250 5000 7150
$Comp
L R R201
U 1 1 59BB0C75
P 3250 4950
F 0 "R201" V 3330 4950 50  0000 C CNN
F 1 "1k" V 3250 4950 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 3180 4950 50  0001 C CNN
F 3 "" H 3250 4950 50  0001 C CNN
	1    3250 4950
	0    1    1    0   
$EndComp
$Comp
L LED D201
U 1 1 59BB0CC4
P 2450 4950
F 0 "D201" H 2450 5050 50  0000 C CNN
F 1 "Blue" H 2450 4850 50  0000 C CNN
F 2 "LEDs:LED_0603" H 2450 4950 50  0001 C CNN
F 3 "" H 2450 4950 50  0001 C CNN
	1    2450 4950
	-1   0    0    1   
$EndComp
$Comp
L +3V3 #PWR010
U 1 1 59BB0D1C
P 2200 4950
F 0 "#PWR010" H 2200 4800 50  0001 C CNN
F 1 "+3V3" H 2200 5090 50  0000 C CNN
F 2 "" H 2200 4950 50  0001 C CNN
F 3 "" H 2200 4950 50  0001 C CNN
	1    2200 4950
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2200 4950 2300 4950
Wire Wire Line
	2600 4950 3100 4950
$Comp
L STM32L432K(B-C)Ux_u U?
U 1 1 5A512658
P 7150 2150
F 0 "U?" H 7150 3100 50  0000 C CNN
F 1 "STM32L432K(B-C)Ux_u" H 7150 1300 50  0000 C CNN
F 2 "UFQFPN32" H 7150 1950 50  0000 C CIN
F 3 "" H 7150 2150 50  0000 C CNN
	1    7150 2150
	-1   0    0    1   
$EndComp
$Comp
L STM32L432K(B-C)Ux_u U?
U 2 1 5A512703
P 6850 4000
F 0 "U?" H 6850 4450 50  0000 C CNN
F 1 "STM32L432K(B-C)Ux_u" H 6850 3550 50  0000 C CNN
F 2 "UFQFPN32" H 6850 3800 50  0000 C CIN
F 3 "" H 6850 4000 50  0000 C CNN
	2    6850 4000
	-1   0    0    1   
$EndComp
$Comp
L STM32L432K(B-C)Ux_u U?
U 3 1 5A51279E
P 5550 5050
F 0 "U?" H 5550 5300 50  0000 C CNN
F 1 "STM32L432K(B-C)Ux_u" H 5550 4900 50  0000 C CNN
F 2 "UFQFPN32" H 5550 4850 50  0000 C CIN
F 3 "" H 5550 5050 50  0000 C CNN
	3    5550 5050
	-1   0    0    1   
$EndComp
$Comp
L STM32L432K(B-C)Ux_u U?
U 4 1 5A51288D
P 4750 5650
F 0 "U?" H 4750 5800 50  0000 C CNN
F 1 "STM32L432K(B-C)Ux_u" H 4750 5500 50  0000 C CNN
F 2 "UFQFPN32" H 4750 5450 50  0000 C CIN
F 3 "" H 4750 5650 50  0000 C CNN
	4    4750 5650
	-1   0    0    1   
$EndComp
$Comp
L STM32L432K(B-C)Ux_u U?
U 5 1 5A51291A
P 2050 6800
F 0 "U?" H 2050 6950 50  0000 C CNN
F 1 "STM32L432K(B-C)Ux_u" H 2050 6650 50  0000 C CNN
F 2 "UFQFPN32" H 2050 6600 50  0000 C CIN
F 3 "" H 2050 6800 50  0000 C CNN
	5    2050 6800
	-1   0    0    1   
$EndComp
$Comp
L STM32L432K(B-C)Ux_u U?
U 6 1 5A5129AB
P 6200 6900
F 0 "U?" H 6200 7150 50  0000 C CNN
F 1 "STM32L432K(B-C)Ux_u" H 6200 6650 50  0000 C CNN
F 2 "UFQFPN32" H 6200 6700 50  0000 C CIN
F 3 "" H 6200 6900 50  0000 C CNN
	6    6200 6900
	-1   0    0    1   
$EndComp
$Comp
L STM32L432K(B-C)Ux_u U?
U 7 1 5A512A40
P 4150 6950
F 0 "U?" H 4150 7200 50  0000 C CNN
F 1 "STM32L432K(B-C)Ux_u" H 4150 6700 50  0000 C CNN
F 2 "UFQFPN32" H 4150 6750 50  0000 C CIN
F 3 "" H 4150 6950 50  0000 C CNN
	7    4150 6950
	-1   0    0    1   
$EndComp
$Comp
L TEST TP?
U 1 1 5A516FC4
P 1350 6800
F 0 "TP?" H 1350 7100 50  0000 C BNN
F 1 "~RST" H 1350 7050 50  0000 C CNN
F 2 "" H 1350 6800 50  0001 C CNN
F 3 "" H 1350 6800 50  0001 C CNN
	1    1350 6800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1350 6800 1550 6800
Text Label 1400 6800 0    60   ~ 0
~RST
$Comp
L GND #PWR?
U 1 1 5A5173EC
P 5700 7100
F 0 "#PWR?" H 5700 6850 50  0001 C CNN
F 1 "GND" H 5700 6950 50  0000 C CNN
F 2 "" H 5700 7100 50  0001 C CNN
F 3 "" H 5700 7100 50  0001 C CNN
	1    5700 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	5700 7100 5700 6800
Wire Wire Line
	5700 6800 5800 6800
Wire Wire Line
	5800 6900 5700 6900
Connection ~ 5700 6900
Wire Wire Line
	5800 7000 5700 7000
Connection ~ 5700 7000
$Comp
L +3V3 #PWR?
U 1 1 5A517858
P 3450 6750
F 0 "#PWR?" H 3450 6600 50  0001 C CNN
F 1 "+3V3" H 3450 6890 50  0000 C CNN
F 2 "" H 3450 6750 50  0001 C CNN
F 3 "" H 3450 6750 50  0001 C CNN
	1    3450 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 6750 3450 7050
Wire Wire Line
	3450 7050 3550 7050
Wire Wire Line
	3550 6950 3450 6950
Connection ~ 3450 6950
Wire Wire Line
	3450 6850 3550 6850
Connection ~ 3450 6850
Wire Notes Line
	3800 2800 2850 2800
Wire Notes Line
	2850 2700 3800 2700
Wire Notes Line
	2850 2800 2850 2700
Wire Notes Line
	3800 2700 3800 2800
Wire Wire Line
	3750 1450 3850 1450
Wire Wire Line
	3850 1450 3850 1350
Wire Wire Line
	3750 1550 4150 1550
Wire Wire Line
	4150 1650 3750 1650
Wire Wire Line
	3850 1750 4150 1750
Wire Wire Line
	4150 1850 3850 1850
Text HLabel 3850 2850 0    60   Output ~ 0
SCK
Text HLabel 3850 4000 0    60   Input ~ 0
MISO
Text HLabel 3850 3900 0    60   Output ~ 0
MOSI
Text HLabel 3850 5650 0    60   Output ~ 0
CS
Wire Wire Line
	3850 3700 4150 3700
Wire Wire Line
	4150 3800 3850 3800
Wire Wire Line
	3850 3900 4150 3900
Wire Wire Line
	4150 4000 3850 4000
Wire Wire Line
	3850 4100 4150 4100
Text HLabel 3850 2050 0    60   Output ~ 0
PWM_CH2P
Text HLabel 3850 4300 0    60   Output ~ 0
PWM_CH2N
Text HLabel 3850 1950 0    60   Output ~ 0
PWM_CH3P
Text HLabel 3850 4200 0    60   Output ~ 0
PWM_CH3N
Wire Wire Line
	4150 1250 4050 1250
Wire Wire Line
	4050 1250 4050 1450
Wire Wire Line
	4050 1450 4150 1450
Wire Wire Line
	3850 4200 4150 4200
Wire Wire Line
	4150 4300 3850 4300
Wire Wire Line
	3850 2250 4150 2250
Wire Wire Line
	4150 2150 3850 2150
Wire Wire Line
	3850 2050 4150 2050
Wire Wire Line
	4150 1950 3850 1950
Wire Wire Line
	3750 2750 4150 2750
Wire Wire Line
	4150 2850 3850 2850
$Comp
L TEST TP?
U 1 1 5A51F6D4
P 3750 2350
F 0 "TP?" V 3750 2850 50  0000 C CNN
F 1 "BRK" V 3750 2650 50  0000 C CNN
F 2 "" H 3750 2350 50  0001 C CNN
F 3 "" H 3750 2350 50  0001 C CNN
	1    3750 2350
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3750 2350 4150 2350
Text Label 3950 2350 0    60   ~ 0
BRK
Text Label 3850 1550 0    60   ~ 0
SWCLK
Text Label 3850 1650 0    60   ~ 0
SWDIO
Text Label 3850 2750 0    60   ~ 0
TX
Text Notes 3200 4850 0    60   ~ 0
Debug LEDs
Text HLabel 3850 2650 0    60   Input ~ 0
SenseAll
Wire Wire Line
	3850 2650 4150 2650
Connection ~ 4050 2650
$Comp
L TEST TP?
U 1 1 5A524E0E
P 3700 2450
F 0 "TP?" V 3700 2950 50  0000 C CNN
F 1 "DAC" V 3700 2750 50  0000 C CNN
F 2 "" H 3700 2450 50  0001 C CNN
F 3 "" H 3700 2450 50  0001 C CNN
	1    3700 2450
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4050 2650 4050 2550
Wire Wire Line
	4050 2550 4150 2550
Wire Wire Line
	3700 2450 4150 2450
Text Label 3950 2450 0    60   ~ 0
DAC
Text HLabel 3850 2950 0    60   Input ~ 0
SenseV
Wire Wire Line
	3850 2950 4150 2950
Wire Wire Line
	4150 5650 3850 5650
$Comp
L R R?
U 1 1 5A5277EC
P 3250 5250
F 0 "R?" V 3330 5250 50  0000 C CNN
F 1 "1k" V 3250 5250 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 3180 5250 50  0001 C CNN
F 3 "" H 3250 5250 50  0001 C CNN
	1    3250 5250
	0    1    1    0   
$EndComp
$Comp
L LED D?
U 1 1 5A5277F2
P 2450 5250
F 0 "D?" H 2450 5350 50  0000 C CNN
F 1 "Red" H 2450 5150 50  0000 C CNN
F 2 "LEDs:LED_0603" H 2450 5250 50  0001 C CNN
F 3 "" H 2450 5250 50  0001 C CNN
	1    2450 5250
	-1   0    0    1   
$EndComp
$Comp
L +3V3 #PWR?
U 1 1 5A5277F8
P 2200 5250
F 0 "#PWR?" H 2200 5100 50  0001 C CNN
F 1 "+3V3" H 2200 5390 50  0000 C CNN
F 2 "" H 2200 5250 50  0001 C CNN
F 3 "" H 2200 5250 50  0001 C CNN
	1    2200 5250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2200 5250 2300 5250
Wire Wire Line
	2600 5250 3100 5250
Wire Wire Line
	3400 4950 3850 4950
Wire Wire Line
	3850 4950 3850 5050
Wire Wire Line
	3850 5050 4150 5050
Wire Wire Line
	4150 5150 3850 5150
Wire Wire Line
	3850 5150 3850 5250
Wire Wire Line
	3850 5250 3400 5250
Wire Notes Line
	3800 4750 3800 5400
Wire Notes Line
	1950 5400 1950 4750
Wire Notes Line
	1950 4750 3800 4750
Wire Notes Line
	3800 5400 1950 5400
Text Label 2650 4950 0    60   ~ 0
LedBlueR
Text Label 2650 5250 0    60   ~ 0
LedRedR
Text Label 3400 4950 0    60   ~ 0
LedBlue
Text Label 3400 5250 0    60   ~ 0
LedRed
$EndSCHEMATC
