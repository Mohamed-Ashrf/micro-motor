EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:texas
LIBS:interface
LIBS:contrib
LIBS:valves
LIBS:DRV8870
LIBS:INA180A
LIBS:AS5045B
LIBS:TCAN33x
LIBS:mic4606
LIBS:drv8323s
LIBS:FDMD82xx
LIBS:ncp4623
LIBS:TMP006
LIBS:stm32
LIBS:µmotor-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 6 6
Title "µmotor - Micro Motor Controller"
Date "2017-09-14"
Rev "rev1"
Comp "Roboterclub Aachen e.V."
Comment1 "Raphael Lehmann"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L TEST_1P J603
U 1 1 59BA1247
P 2650 1650
F 0 "J603" V 2650 2200 50  0000 C CNN
F 1 "SWDIO" V 2650 1950 50  0000 C CNN
F 2 "Measurement_Point_Round-SMD-Pad_Smaller:Measurement_Point_Round-SMD-Pad_Smaller_0.5mm" H 2850 1650 50  0001 C CNN
F 3 "" H 2850 1650 50  0001 C CNN
	1    2650 1650
	0    -1   -1   0   
$EndComp
$Comp
L TEST_1P J602
U 1 1 59BA12F1
P 2650 1550
F 0 "J602" V 2650 2100 50  0000 C CNN
F 1 "SWCLK" V 2650 1850 50  0000 C CNN
F 2 "Measurement_Point_Round-SMD-Pad_Smaller:Measurement_Point_Round-SMD-Pad_Smaller_0.5mm" H 2850 1550 50  0001 C CNN
F 3 "" H 2850 1550 50  0001 C CNN
	1    2650 1550
	0    -1   -1   0   
$EndComp
$Comp
L TEST_1P J601
U 1 1 59BA1332
P 2650 1450
F 0 "J601" V 2650 2000 50  0000 C CNN
F 1 "GND" V 2650 1750 50  0000 C CNN
F 2 "Measurement_Point_Round-SMD-Pad_Smaller:Measurement_Point_Round-SMD-Pad_Smaller_0.75mm" H 2850 1450 50  0001 C CNN
F 3 "" H 2850 1450 50  0001 C CNN
	1    2650 1450
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR036
U 1 1 59BA1365
P 2750 1350
F 0 "#PWR036" H 2750 1100 50  0001 C CNN
F 1 "GND" H 2750 1200 50  0000 C CNN
F 2 "" H 2750 1350 50  0001 C CNN
F 3 "" H 2750 1350 50  0001 C CNN
	1    2750 1350
	-1   0    0    1   
$EndComp
Wire Notes Line
	1750 1400 1750 1700
Wire Notes Line
	1750 1700 2700 1700
Wire Notes Line
	2700 1700 2700 1400
Wire Notes Line
	2700 1400 1750 1400
Text Notes 1850 1650 1    60   ~ 0
SWD
Text HLabel 3850 3650 0    60   BiDi ~ 0
I2C_SDA
Text HLabel 3850 3750 0    60   Output ~ 0
I2C_SCL
Text HLabel 3850 1850 0    60   Input ~ 0
CAN_RX
Text HLabel 3850 1750 0    60   Output ~ 0
CAN_TX
Text HLabel 3850 3450 0    60   Output ~ 0
PWM_CH1N
Text HLabel 3850 2150 0    60   Output ~ 0
PWM_CH1P
$Comp
L TEST_1P J604
U 1 1 59BA1FC2
P 3750 2750
F 0 "J604" V 3750 3200 50  0000 C CNN
F 1 "TX" V 3750 3000 50  0000 C CNN
F 2 "Measurement_Point_Round-SMD-Pad_Smaller:Measurement_Point_Round-SMD-Pad_Smaller_0.5mm" H 3950 2750 50  0001 C CNN
F 3 "" H 3950 2750 50  0001 C CNN
	1    3750 2750
	0    -1   1    0   
$EndComp
Text Notes 3150 2800 2    60   ~ 0
UART
Text HLabel 3850 2950 0    60   Input ~ 0
Enc_TIM2_CH1
Text HLabel 3850 2850 0    60   Input ~ 0
Enc_TIM2_CH2
$Comp
L C C601
U 1 1 59BAE177
P 4850 7000
F 0 "C601" H 4875 7100 50  0000 L CNN
F 1 "100n" H 4875 6900 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 4888 6850 50  0001 C CNN
F 3 "" H 4850 7000 50  0001 C CNN
	1    4850 7000
	1    0    0    -1  
$EndComp
$Comp
L +3V3 #PWR037
U 1 1 59BAE1E9
P 4850 6750
F 0 "#PWR037" H 4850 6600 50  0001 C CNN
F 1 "+3V3" H 4850 6890 50  0000 C CNN
F 2 "" H 4850 6750 50  0001 C CNN
F 3 "" H 4850 6750 50  0001 C CNN
	1    4850 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 6750 4850 6850
$Comp
L GND #PWR038
U 1 1 59BAE239
P 4850 7250
F 0 "#PWR038" H 4850 7000 50  0001 C CNN
F 1 "GND" H 4850 7100 50  0000 C CNN
F 2 "" H 4850 7250 50  0001 C CNN
F 3 "" H 4850 7250 50  0001 C CNN
	1    4850 7250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4850 7250 4850 7150
$Comp
L R R601
U 1 1 59BB0C75
P 2550 3550
F 0 "R601" V 2630 3550 50  0000 C CNN
F 1 "1k" V 2550 3550 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 2480 3550 50  0001 C CNN
F 3 "" H 2550 3550 50  0001 C CNN
	1    2550 3550
	0    1    1    0   
$EndComp
$Comp
L LED D601
U 1 1 59BB0CC4
P 1750 3550
F 0 "D601" H 1750 3650 50  0000 C CNN
F 1 "Blue" H 1750 3450 50  0000 C CNN
F 2 "LEDs:LED_0603" H 1750 3550 50  0001 C CNN
F 3 "" H 1750 3550 50  0001 C CNN
	1    1750 3550
	-1   0    0    1   
$EndComp
$Comp
L +3V3 #PWR039
U 1 1 59BB0D1C
P 1500 3550
F 0 "#PWR039" H 1500 3400 50  0001 C CNN
F 1 "+3V3" H 1500 3690 50  0000 C CNN
F 2 "" H 1500 3550 50  0001 C CNN
F 3 "" H 1500 3550 50  0001 C CNN
	1    1500 3550
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1500 3550 1600 3550
Wire Wire Line
	1900 3550 2400 3550
$Comp
L TEST TP601
U 1 1 5A516FC4
P 1350 6800
F 0 "TP601" H 1350 7100 50  0000 C BNN
F 1 "~RST" H 1350 7050 50  0000 C CNN
F 2 "Measurement_Point_Round-SMD-Pad_Smaller:Measurement_Point_Round-SMD-Pad_Smaller_0.5mm" H 1350 6800 50  0001 C CNN
F 3 "" H 1350 6800 50  0001 C CNN
	1    1350 6800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1350 6800 1550 6800
Text Label 1350 6800 0    60   ~ 0
~RST
$Comp
L GND #PWR040
U 1 1 5A5173EC
P 5700 7100
F 0 "#PWR040" H 5700 6850 50  0001 C CNN
F 1 "GND" H 5700 6950 50  0000 C CNN
F 2 "" H 5700 7100 50  0001 C CNN
F 3 "" H 5700 7100 50  0001 C CNN
	1    5700 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	5700 6600 5700 7100
Wire Wire Line
	5700 6800 5800 6800
Wire Wire Line
	5800 6900 5700 6900
Connection ~ 5700 6900
Wire Wire Line
	5800 7000 5700 7000
Connection ~ 5700 7000
$Comp
L +3V3 #PWR041
U 1 1 5A517858
P 3300 6750
F 0 "#PWR041" H 3300 6600 50  0001 C CNN
F 1 "+3V3" H 3300 6890 50  0000 C CNN
F 2 "" H 3300 6750 50  0001 C CNN
F 3 "" H 3300 6750 50  0001 C CNN
	1    3300 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	3300 6750 3300 7150
Wire Wire Line
	3300 7050 3400 7050
Wire Wire Line
	3400 6950 3300 6950
Connection ~ 3300 6950
Wire Wire Line
	3300 6850 3400 6850
Connection ~ 3300 6850
Wire Notes Line
	3800 2800 2850 2800
Wire Notes Line
	2850 2700 3800 2700
Wire Notes Line
	2850 2800 2850 2700
Wire Notes Line
	3800 2700 3800 2800
Wire Wire Line
	2650 1450 2750 1450
Wire Wire Line
	2750 1450 2750 1350
Wire Wire Line
	2650 1550 4150 1550
Wire Wire Line
	2650 1650 4150 1650
Wire Wire Line
	3850 1750 4150 1750
Wire Wire Line
	4150 1850 3850 1850
Text HLabel 3850 4450 0    60   Output ~ 0
SCK
Text HLabel 3850 4350 0    60   Input ~ 0
MISO
Text HLabel 3850 4250 0    60   Output ~ 0
MOSI
Text HLabel 3850 1450 0    60   Output ~ 0
CS
Wire Wire Line
	3850 3650 4150 3650
Wire Wire Line
	4150 3750 3850 3750
Wire Wire Line
	3850 4250 4150 4250
Wire Wire Line
	4150 4350 3850 4350
Wire Wire Line
	3850 4450 4150 4450
Text HLabel 3850 2050 0    60   Output ~ 0
PWM_CH2P
Text HLabel 3850 3350 0    60   Output ~ 0
PWM_CH2N
Text HLabel 3850 1950 0    60   Output ~ 0
PWM_CH3P
Text HLabel 3850 3250 0    60   Output ~ 0
PWM_CH3N
Wire Wire Line
	3850 3250 4150 3250
Wire Wire Line
	4150 3350 3850 3350
Wire Wire Line
	3850 3450 4150 3450
Wire Wire Line
	4150 2150 3850 2150
Wire Wire Line
	3850 2050 4150 2050
Wire Wire Line
	4150 1950 3850 1950
Wire Wire Line
	3750 2750 4150 2750
Text Label 2750 1550 0    60   ~ 0
SWCLK
Text Label 2750 1650 0    60   ~ 0
SWDIO
Text Label 3850 2750 0    60   ~ 0
TX
Text Notes 2000 3400 0    60   ~ 0
Debug LED
Text HLabel 3850 2650 0    60   Input ~ 0
SenseAll
Wire Wire Line
	3850 2650 4150 2650
Connection ~ 4050 2650
$Comp
L TEST TP603
U 1 1 5A524E0E
P 3700 2450
F 0 "TP603" V 3700 2950 50  0000 C CNN
F 1 "DAC" V 3700 2750 50  0000 C CNN
F 2 "Measurement_Point_Round-SMD-Pad_Smaller:Measurement_Point_Round-SMD-Pad_Smaller_0.5mm" H 3700 2450 50  0001 C CNN
F 3 "" H 3700 2450 50  0001 C CNN
	1    3700 2450
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4050 2650 4050 2550
Wire Wire Line
	4050 2550 4150 2550
Wire Wire Line
	3700 2450 4150 2450
Text Label 3950 2450 0    60   ~ 0
DAC
Text HLabel 3850 2350 0    60   Input ~ 0
SenseV
Wire Wire Line
	3850 2350 4150 2350
Wire Wire Line
	4150 1450 3850 1450
$Comp
L R R602
U 1 1 5A5277EC
P 3250 5250
F 0 "R602" V 3330 5250 50  0000 C CNN
F 1 "1k" V 3250 5250 50  0000 C CNN
F 2 "Resistors_SMD:R_0603" V 3180 5250 50  0001 C CNN
F 3 "" H 3250 5250 50  0001 C CNN
	1    3250 5250
	0    1    1    0   
$EndComp
$Comp
L LED D602
U 1 1 5A5277F2
P 2450 5250
F 0 "D602" H 2450 5350 50  0000 C CNN
F 1 "Red" H 2450 5150 50  0000 C CNN
F 2 "LEDs:LED_0603" H 2450 5250 50  0001 C CNN
F 3 "" H 2450 5250 50  0001 C CNN
	1    2450 5250
	-1   0    0    1   
$EndComp
$Comp
L +3V3 #PWR042
U 1 1 5A5277F8
P 2200 5250
F 0 "#PWR042" H 2200 5100 50  0001 C CNN
F 1 "+3V3" H 2200 5390 50  0000 C CNN
F 2 "" H 2200 5250 50  0001 C CNN
F 3 "" H 2200 5250 50  0001 C CNN
	1    2200 5250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2200 5250 2300 5250
Wire Wire Line
	2600 5250 3100 5250
Wire Wire Line
	2700 3550 4150 3550
Wire Wire Line
	3400 5250 4150 5250
Text Label 1950 3550 0    60   ~ 0
LedBlueR
Text Label 2650 5250 0    60   ~ 0
LedRedR
Text Label 2700 3550 0    60   ~ 0
LedBlue
Text Label 3400 5250 0    60   ~ 0
LedRed
$Comp
L STM32L433C(B-C)Ux_u U601
U 6 1 5A5362D9
P 6400 6800
F 0 "U601" H 6400 6450 50  0000 C CNN
F 1 "STM32L433C(B-C)Ux_u" H 6400 7150 50  0000 C CNN
F 2 "Housings_DFN_QFN:QFN-48-1EP_7x7mm_Pitch0.5mm" H 6400 6600 50  0001 C CIN
F 3 "" H 6400 6800 50  0000 C CNN
	6    6400 6800
	-1   0    0    1   
$EndComp
$Comp
L STM32L433C(B-C)Ux_u U601
U 7 1 5A536524
P 4000 6950
F 0 "U601" H 4000 6700 50  0000 C CNN
F 1 "STM32L433C(B-C)Ux_u" H 4000 7300 50  0000 C CNN
F 2 "Housings_DFN_QFN:QFN-48-1EP_7x7mm_Pitch0.5mm" H 4000 6750 50  0001 C CIN
F 3 "" H 4000 6950 50  0000 C CNN
	7    4000 6950
	-1   0    0    1   
$EndComp
$Comp
L STM32L433C(B-C)Ux_u U601
U 4 1 5A53663C
P 5150 5150
F 0 "U601" H 5150 5400 50  0000 C CNN
F 1 "STM32L433C(B-C)Ux_u" H 5150 4900 50  0000 C CNN
F 2 "Housings_DFN_QFN:QFN-48-1EP_7x7mm_Pitch0.5mm" H 5150 4850 50  0001 C CIN
F 3 "" H 5150 5150 50  0000 C CNN
	4    5150 5150
	-1   0    0    1   
$EndComp
$Comp
L STM32L433C(B-C)Ux_u U601
U 3 1 5A5367B7
P 5850 5650
F 0 "U601" H 5850 5900 50  0000 C CNN
F 1 "STM32L433C(B-C)Ux_u" H 5850 5400 50  0000 C CNN
F 2 "Housings_DFN_QFN:QFN-48-1EP_7x7mm_Pitch0.5mm" H 5850 5450 50  0001 C CIN
F 3 "" H 5850 5650 50  0000 C CNN
	3    5850 5650
	-1   0    0    1   
$EndComp
$Comp
L STM32L433C(B-C)Ux_u U601
U 1 1 5A536872
P 7250 2150
F 0 "U601" H 4750 2000 50  0000 C CNN
F 1 "STM32L433C(B-C)Ux_u" H 4950 2150 50  0000 C CNN
F 2 "Housings_DFN_QFN:QFN-48-1EP_7x7mm_Pitch0.5mm" H 7250 1950 50  0001 C CIN
F 3 "" H 7250 2150 50  0000 C CNN
	1    7250 2150
	-1   0    0    1   
$EndComp
$Comp
L STM32L433C(B-C)Ux_u U601
U 5 1 5A536C11
P 2050 6700
F 0 "U601" H 2050 6950 50  0000 C CNN
F 1 "STM32L433C(B-C)Ux_u" H 2050 6550 50  0000 C CNN
F 2 "Housings_DFN_QFN:QFN-48-1EP_7x7mm_Pitch0.5mm" H 1800 6800 50  0001 C CIN
F 3 "" H 2050 6700 50  0000 C CNN
	5    2050 6700
	-1   0    0    1   
$EndComp
$Comp
L STM32L433C(B-C)Ux_u U601
U 2 1 5A536CC0
P 7550 3950
F 0 "U601" H 4700 4450 50  0000 C CNN
F 1 "STM32L433C(B-C)Ux_u" H 5050 4100 50  0000 C CNN
F 2 "Housings_DFN_QFN:QFN-48-1EP_7x7mm_Pitch0.5mm" H 7550 3750 50  0001 C CIN
F 3 "" H 7550 3950 50  0000 C CNN
	2    7550 3950
	-1   0    0    1   
$EndComp
$Comp
L +3V3 #PWR043
U 1 1 5A537A1D
P 1450 6600
F 0 "#PWR043" H 1450 6450 50  0001 C CNN
F 1 "+3V3" H 1450 6740 50  0000 C CNN
F 2 "" H 1450 6600 50  0001 C CNN
F 3 "" H 1450 6600 50  0001 C CNN
	1    1450 6600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 6600 1450 6700
Wire Wire Line
	1450 6700 1550 6700
Wire Wire Line
	5700 6600 5800 6600
Connection ~ 5700 6800
Wire Wire Line
	5800 6700 5700 6700
Connection ~ 5700 6700
Wire Wire Line
	3300 7150 3400 7150
Connection ~ 3300 7050
$Comp
L C C602
U 1 1 5A538741
P 5200 7000
F 0 "C602" H 5225 7100 50  0000 L CNN
F 1 "100n" H 5225 6900 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 5238 6850 50  0001 C CNN
F 3 "" H 5200 7000 50  0001 C CNN
	1    5200 7000
	1    0    0    -1  
$EndComp
$Comp
L +3V3 #PWR044
U 1 1 5A538747
P 5200 6750
F 0 "#PWR044" H 5200 6600 50  0001 C CNN
F 1 "+3V3" H 5200 6890 50  0000 C CNN
F 2 "" H 5200 6750 50  0001 C CNN
F 3 "" H 5200 6750 50  0001 C CNN
	1    5200 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 6750 5200 6850
$Comp
L GND #PWR045
U 1 1 5A53874E
P 5200 7250
F 0 "#PWR045" H 5200 7000 50  0001 C CNN
F 1 "GND" H 5200 7100 50  0000 C CNN
F 2 "" H 5200 7250 50  0001 C CNN
F 3 "" H 5200 7250 50  0001 C CNN
	1    5200 7250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5200 7250 5200 7150
Wire Wire Line
	3850 2950 4150 2950
Wire Wire Line
	4150 2850 3850 2850
Text HLabel 3850 4750 0    60   Input ~ 0
SenseW
Wire Wire Line
	3850 4750 4150 4750
$Comp
L TEST TP602
U 1 1 5A76EB3D
P 3700 2250
F 0 "TP602" V 3700 2750 50  0000 C CNN
F 1 "BK" V 3700 2550 50  0000 C CNN
F 2 "Measurement_Point_Round-SMD-Pad_Smaller:Measurement_Point_Round-SMD-Pad_Smaller_0.5mm" H 3700 2250 50  0001 C CNN
F 3 "" H 3700 2250 50  0001 C CNN
	1    3700 2250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3700 2250 4150 2250
Text Label 3950 2250 0    60   ~ 0
BK
Text HLabel 3850 4650 0    60   BiDi ~ 0
GpioB1
Wire Wire Line
	3850 4650 4150 4650
Text HLabel 3850 4550 0    60   BiDi ~ 0
GpioB2
Wire Wire Line
	3850 4550 4150 4550
Text HLabel 3850 4050 0    60   BiDi ~ 0
GpioB7
Wire Wire Line
	3850 4050 4150 4050
Text HLabel 3850 3850 0    60   Input ~ 0
HallU
Text HLabel 3850 3950 0    60   Input ~ 0
HallV
Text HLabel 3850 4150 0    60   Input ~ 0
HallW
Wire Wire Line
	3850 3850 4150 3850
Wire Wire Line
	4150 3950 3850 3950
Wire Wire Line
	3850 4150 4150 4150
Text HLabel 3850 5650 0    60   BiDi ~ 0
GpioC14
Text HLabel 3850 5750 0    60   BiDi ~ 0
GpioC13
Wire Wire Line
	3850 5650 4150 5650
Wire Wire Line
	4150 5750 3850 5750
$EndSCHEMATC
